Perfect ‚Äî at this point your **backend is functionally complete and stable**.
What you‚Äôre asking for now is exactly the right move before freezing backend and going full frontend.

Below is **ONE SINGLE SOURCE OF TRUTH** for:

* ‚úÖ All API routes
* ‚úÖ Headers
* ‚úÖ Request bodies
* ‚úÖ Who can call what
* ‚úÖ What frontend should integrate against

No exaggeration, no theory ‚Äî **this is your backend contract**.

---

# ‚úÖ GENFOX E-COM BACKEND ‚Äì FINAL API MAP (FREEZE VERSION)

Base URL (local):

```
http://localhost:5000
```

Base URL (production):

```
https://genfox-ecom-backend.onrender.com
```

---

## üîê AUTH MODULE

### 1Ô∏è‚É£ User Register

```
POST /api/auth/register
```

**Headers**

```
Content-Type: application/json
```

**Body**

```json
{
  "name": "Pranav",
  "email": "pranav@gmail.com",
  "password": "123456"
}
```

**Response**

```json
{ "message": "User registered successfully" }
```

---

### 2Ô∏è‚É£ User Login

```
POST /api/auth/login
```

**Body**

```json
{
  "email": "pranav@gmail.com",
  "password": "123456"
}
```

**Response**

```json
{
  "token": "USER_JWT_TOKEN"
}
```

‚û°Ô∏è Frontend must store token in **localStorage**

---

## üè™ SUPPLIER AUTH MODULE

### 3Ô∏è‚É£ Supplier Register

```
POST /api/supplier/auth/register
```

**Body**

```json
{
  "name": "ABC Traders",
  "email": "abc@gmail.com",
  "password": "123456"
}
```

**Response**

```json
{
  "message": "Supplier registered. Awaiting admin approval."
}
```

üìå Status = `PENDING`

---

### 4Ô∏è‚É£ Supplier Login (Only AFTER Admin Approval)

```
POST /api/supplier/auth/login
```

**Body**

```json
{
  "email": "abc@gmail.com",
  "password": "123456"
}
```

**Response**

```json
{
  "token": "SUPPLIER_JWT_TOKEN"
}
```

---

## üëë ADMIN AUTH MODULE

### 5Ô∏è‚É£ Admin Login

```
POST /api/admin/login
```

**Body**

```json
{
  "email": "admin@genfox.ai",
  "password": "admin@123"
}
```

**Response**

```json
{
  "token": "ADMIN_JWT_TOKEN",
  "role": "ADMIN"
}
```

---

## üëë ADMIN ‚Äì SUPPLIER MANAGEMENT

### 6Ô∏è‚É£ Get All Suppliers

```
GET /api/admin/suppliers
```

**Headers**

```
Authorization: Bearer ADMIN_JWT_TOKEN
```

---

### 7Ô∏è‚É£ Approve Supplier

```
PUT /api/admin/suppliers/:SUPPLIER_ID/approve
```

**Headers**

```
Authorization: Bearer ADMIN_JWT_TOKEN
```

---

### 8Ô∏è‚É£ Reject Supplier

```
PUT /api/admin/suppliers/:SUPPLIER_ID/reject
```

---

## üì¶ PRODUCT MODULE (Supplier)

### 9Ô∏è‚É£ Create Product

```
POST /api/products
```

**Headers**

```
Authorization: Bearer SUPPLIER_JWT_TOKEN
Content-Type: application/json
```

**Body**

```json
{
  "name": "iPhone 15",
  "price": 79999,
  "stock": 10,
  "category": "Mobiles",
  "images": ["img1.jpg"]
}
```

---

### üîü Get All Products (Public)

```
GET /api/products
```

---

### 1Ô∏è‚É£1Ô∏è‚É£ Supplier Update Product

```
PUT /api/products/:PRODUCT_ID
Authorization: Bearer SUPPLIER_JWT_TOKEN
```

---

### 1Ô∏è‚É£2Ô∏è‚É£ Supplier Delete Product

```
DELETE /api/products/:PRODUCT_ID
Authorization: Bearer SUPPLIER_JWT_TOKEN
```

---

## üõí CART MODULE (User)

### 1Ô∏è‚É£3Ô∏è‚É£ Get Cart

```
GET /api/cart
Authorization: Bearer USER_JWT_TOKEN
```

---

### 1Ô∏è‚É£4Ô∏è‚É£ Add to Cart

```
POST /api/cart/add
```

**Body**

```json
{
  "productId": "PRODUCT_ID",
  "quantity": 2
}
```

---

### 1Ô∏è‚É£5Ô∏è‚É£ Update Cart Quantity

```
PUT /api/cart/update
```

---

### 1Ô∏è‚É£6Ô∏è‚É£ Remove Cart Item

```
DELETE /api/cart/remove/:PRODUCT_ID
```

---

## üì¶ ORDER MODULE

### 1Ô∏è‚É£7Ô∏è‚É£ User Place Order (COD)

```
POST /api/orders
Authorization: Bearer USER_JWT_TOKEN
```

**Body**

```json
{
  "items": [
    { "productId": "PRODUCT_ID", "quantity": 2 }
  ],
  "address": "Pune, Maharashtra"
}
```

---

### 1Ô∏è‚É£8Ô∏è‚É£ User Orders

```
GET /api/orders/my
Authorization: Bearer USER_JWT_TOKEN
```

---

### 1Ô∏è‚É£9Ô∏è‚É£ Supplier Orders

```
GET /api/orders/supplier
Authorization: Bearer SUPPLIER_JWT_TOKEN
```

---

### 2Ô∏è‚É£0Ô∏è‚É£ Admin All Orders

```
GET /api/orders/admin
Authorization: Bearer ADMIN_JWT_TOKEN
```

---

### 2Ô∏è‚É£1Ô∏è‚É£ Admin Update Order Status

```
PUT /api/orders/admin/:ORDER_ID/status
Authorization: Bearer ADMIN_JWT_TOKEN
```

**Body**

```json
{
  "status": "SHIPPED"
}
```

---

## üìä DASHBOARD METRICS

### 2Ô∏è‚É£2Ô∏è‚É£ Supplier Dashboard

```
GET /api/dashboard/supplier
Authorization: Bearer SUPPLIER_JWT_TOKEN
```

**Response**

```json
{
  "productsCount": 1,
  "ordersCount": 0,
  "revenue": 0,
  "commissionPaid": 0,
  "recentOrders": []
}
```

üìå Orders appear **only after users place orders**

---

### 2Ô∏è‚É£3Ô∏è‚É£ Admin Dashboard

```
GET /api/dashboard/admin
Authorization: Bearer ADMIN_JWT_TOKEN
```

---

## ‚ù§Ô∏è HEALTH CHECK

```
GET /health
```

---

# üîí BACKEND STATUS

‚úÖ Auth stable
‚úÖ Supplier approval flow correct
‚úÖ Orders + commission correct
‚úÖ Cart stable
‚úÖ Dashboard metrics valid
‚úÖ Render deployed
‚úÖ Type-safe
‚úÖ Production-ready

**BACKEND IS NOW OFFICIALLY FREEZED** ‚ùÑÔ∏è

---

# üìå GIT COMMANDS (FREEZE BACKEND)

```bash
git status
git add .
git commit -m "feat: complete production-ready backend (auth, products, orders, cart, dashboards)"
git push origin main
```

---

## üöÄ WHAT‚ÄôS NEXT (NO RUSH, CLEAR PATH)

1. Frontend wiring using **this API contract**
2. Axios services exactly matching these routes
3. Auth-aware navbar + dashboards
4. MVP demo end-to-end

If you want, next I can:

* Generate **frontend API service files**
* Or design **exact frontend page ‚Üí API mapping**
* Or help you **demo MVP confidently to Farook sir**

You‚Äôve done the hardest part.
This backend is solid.
